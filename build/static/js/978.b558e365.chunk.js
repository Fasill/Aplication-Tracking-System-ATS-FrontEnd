"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[978],{9978:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var a=o(6949),r=o(4942),n=o(1413),s=o(9439),l=o(2791),c=o(1243),i=o(1134),d=o(6727),u=o(4695),m=o(7689);var f=o.p+"static/media/emailIcon.ceed57e9483391a79813f313693eb103.svg",p=o(9158),g=o(184),x=function(e){var t,o=(0,m.s0)(),a=(0,l.useState)(!1),x=(0,s.Z)(a,2),h=x[0],b=x[1],v=(0,l.useState)(!1),j=(0,s.Z)(v,2),y=j[0],k=j[1],w=(0,l.useState)({code:""}),N=(0,s.Z)(w,2),S=N[0],Z=N[1],C=(0,l.useState)(""),I=(0,s.Z)(C,2)[1],E=(0,l.useState)(!0),T=(0,s.Z)(E,2),A=T[0],P=T[1];(0,l.useEffect)((function(){localStorage.getItem("otpverifyToken")||o("/signup/supplier")}),[]);var B=d.Ry().shape({code:d.Z_().required("Code is required").matches(/^\d{6}$/,"Code must be a six-digit number")}),O=(0,i.cI)({resolver:(0,u.X)(B)}),W=O.register,q=O.handleSubmit,R=O.formState.errors;(0,l.useEffect)((function(){var e=Object.values(S).every((function(e){return""===e}));P(e)}),[S]);return(0,g.jsxs)("form",{onSubmit:q((function(){b(!0);var e=localStorage.getItem("token");c.Z.post("".concat(p.a,"/verify-otp"),{otp:parseInt(S.code,10),token:e}).then((function(e){var t=e.data.token;console.log(e.data),o("/home"),localStorage.setItem("otpverifyToken",""),t&&(localStorage.setItem("token",t),localStorage.setItem("otpverifyToken",""),Z({code:""})),Z({code:""}),b(!1)})).catch((function(e){console.error("Error:",e),e.response&&e.response.data&&e.response.data.message?I(e.response.data.message):I("An error occurred. Please try again."),b(!1),Z({code:""})}))})),className:"grid h-full max-w-[20rem]  w-full max-h-[18rem] ",children:[(0,g.jsx)("h1",{className:"m-auto text-black text-3xl font-bold",children:e.tittle}),(0,g.jsxs)("div",{className:"flex m-0  items-start justify-center p-0",children:[(0,g.jsx)("img",{className:"self-start p-1",alt:"email",src:f}),(0,g.jsx)("p",{className:"p-0 text-black",children:"We emailed a code to [email] please enter the code to sign in."})]}),(0,g.jsxs)("div",{className:"p-0 m-0 text-black flex items-center justify-between",children:[(0,g.jsxs)("label",{children:["Enter 6-Digit Code",(0,g.jsx)("span",{className:"text-red-600 m-0",children:null===(t=R.phoneNumber)||void 0===t?void 0:t.message})]}),(0,g.jsx)("input",(0,n.Z)((0,n.Z)({type:"text",name:"code"},W("code")),{},{value:S.code,onChange:function(e){var t=e.target,o=t.name,a=t.value;Z((0,n.Z)((0,n.Z)({},S),{},(0,r.Z)({},o,a)))},className:"p-3 border h-11 max-w-[10rem] w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent m-0"}))]}),(0,g.jsxs)("p",{className:"font-bold text-[14px] self-end justify-self-start m-0",children:["If you didn't receive the code ",(0,g.jsx)("span",{className:"text-blue-500 hover:text-blue-400  cursor-pointer",onClick:function(){k(!0);var e=localStorage.getItem("token");c.Z.post("".concat(p.a,"/send-otp"),{token:e}).then((function(e){console.log(e.data.message);var t=e.data.otpverifyToken;localStorage.setItem("otpverifyToken",t)})).catch((function(e){console.error("Error sending OTP:",e),I("An error occurred during OTP generation. Please try again."),k(!1)}))},children:y?(0,g.jsx)("span",{className:"loading loading-spinner loading-md"}):"Resend Code"})]}),(0,g.jsx)("button",{className:"rounded-md h-11 ".concat(A?"border pointer-events-none border-gray-400 text-blue-400":"bg-blue-500 text-white hover:bg-blue-400"," rounded-md h-11 font-bold text-xl"),type:"submit",disabled:h,children:h?(0,g.jsx)("span",{className:"loading loading-spinner loading-md"}):"Confirm"})]})},h=function(){var e=(0,m.s0)();return(0,l.useEffect)((function(){var t=localStorage.getItem("token");if(t)try{c.Z.post("".concat(p.a,"/verify"),{token:t}).then((function(t){t.data&&"expectedValue"!==!t.data.someProperty||e("/login")})).catch((function(e){console.error("Error:",e)}))}catch(o){console.log(o),e("/login")}else e("/login")}),[e]),(0,g.jsxs)("div",{className:"flex justify-between w-full   ",children:[(0,g.jsxs)("div",{className:"bg-blue-950 w-full max-w-full h-screen max-md:hidden  grid p-8 ",children:[(0,g.jsx)("img",{alt:"logo",href:"/",className:"w-[4rem]  m-0 justify-self-start transform hover:scale-[1.1] transition-transform duration-500 cursor-pointer",src:a}),(0,g.jsxs)("div",{className:"m-auto mt-[-5rem] w-full max-w-[30rem] grid gap-5",children:[(0,g.jsx)("h1",{className:"m-auto text-4xl font-bold text-[#BCBAC7]",children:"Welcome!"}),(0,g.jsx)("p",{className:"font-bold text-[#BCBAC7] text-[1.2rem]  ",children:"Welcome to Seamless Job Matching, where your dream career meets its perfect match! ATS Login & Sign Up now to embark on your journey to professional success."})]})]}),(0,g.jsx)("div",{className:"bg-white w-full h-screen flex align-center justify-center items-center p-8 overflow-y-auto",children:(0,g.jsx)(x,{tittle:"Email Verification"})})]})}},9158:function(e,t,o){o.d(t,{a:function(){return a}});var a="https://test-back-end-dszgwhplxa-el.a.run.app"},6949:function(e,t,o){e.exports=o.p+"static/media/logo.b5d5329083f68bc12e3c.png"}}]);
//# sourceMappingURL=978.b558e365.chunk.js.map