"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[860],{4860:function(e,a,s){s.r(a),s.d(a,{default:function(){return j}});var t=s(9439),r=s(2791),n=s(4942),l=s(1413),d=s(1243),o=s(7689),i=s(1134),c=s(6727),u=s(4695),m=s(9158),x=s(5737),p=s.n(x),h=(s(8404),s(184)),b=function(e){var a,s,x,b,g,f,j,v,N=(0,r.useState)(!1),y=(0,t.Z)(N,2),w=y[0],Z=y[1],S=(0,r.useState)(!1),k=(0,t.Z)(S,2),C=k[0],E=k[1],I=((0,o.s0)(),(0,r.useState)({name:"",email:"",phoneNumber:"",password:"",address:"",city:"",state:"",country:""})),_=(0,t.Z)(I,2),P=_[0],A=_[1],R=(0,r.useState)(""),D=(0,t.Z)(R,2),O=(D[0],D[1]),X=(0,r.useState)(!0),V=(0,t.Z)(X,2),q=V[0],z=V[1],B=c.Ry().shape({email:c.Z_().email("Invalid email format"),address:c.Z_(),city:c.Z_(),state:c.Z_(),country:c.Z_()}),F=(0,i.cI)({resolver:(0,u.X)(B)}),G=F.register,H=F.handleSubmit,J=F.formState.errors;(0,r.useEffect)((function(){var e=Object.values(P).every((function(e){return""===e}));E(e)}),[P]);var K=function(e){var a=e.target,s=a.name,t=a.value;A((0,l.Z)((0,l.Z)({},P),{},(0,n.Z)({},s,t)))};return(0,h.jsxs)("form",{onSubmit:H((function(){if(q){Z(!0);var e=localStorage.getItem("token");P.token=e,console.log(P),d.Z.post("".concat(m.a,"/update"),P).then((function(e){e.data.token;console.log(e.data),console.log("saved1"),Z(!1),z(!1),A({name:"",email:"",phoneNumber:"",password:"",address:"",city:"",state:"",country:""}),window.location.reload()})).catch((function(e){console.error("Error:",e),e.response&&e.response.data&&e.response.data.message?O(e.response.data.message):O("An error occurred. Please try again."),Z(!1),z(!1)}))}})),className:"grid gap-5 w-[]  ",children:[(0,h.jsx)("button",{type:"submit",disabled:C||w,className:"h-[32px] w-[80px] bg-blue-500 flex items-center justify-center rounded-[0.6rem] font-bold text-white justify-self-end ".concat(C?"bg-[rgb(226,232,240)]":""),children:w?(0,h.jsx)("span",{className:"loading loading-spinner loading-sm bg-white"}):"save"}),(0,h.jsxs)("div",{className:"text-black   grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Navme",(0,h.jsx)("span",{className:"text-red-600",children:null===(a=J.name)||void 0===a?void 0:a.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"name",placeholder:e.data.name},G("name")),{},{value:P.name,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Email ID",(0,h.jsx)("span",{className:"text-red-600",children:null===(s=J.email)||void 0===s?void 0:s.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",placeholder:e.data.email},G("email")),{},{value:P.email,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Password",(0,h.jsx)("span",{className:"text-red-600",children:null===(x=J.email)||void 0===x?void 0:x.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"password",placeholder:"........."},G("password")),{},{value:P.password,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Phone Number",(0,h.jsx)("span",{className:"text-red-600",children:null===(b=J.phoneNumber)||void 0===b?void 0:b.message})]}),(0,h.jsx)(p(),{placeholder:e.data.phoneNumber,inputStyle:{height:"45px",width:"100%",border:"1px solid #ccc",borderRadius:"5px"},value:P.phoneNumber,onChange:function(e){return A((0,l.Z)((0,l.Z)({},P),{},{phoneNumber:e}))}})]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Address",(0,h.jsx)("span",{className:"text-red-600",children:null===(g=J.address)||void 0===g?void 0:g.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"address",placeholder:e.data.address},G("address")),{},{value:P.address,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["City",(0,h.jsx)("span",{className:"text-red-600",children:null===(f=J.city)||void 0===f?void 0:f.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"city",placeholder:e.data.city},G("city")),{},{value:P.city,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["State",(0,h.jsx)("span",{className:"text-red-600",children:null===(j=J.state)||void 0===j?void 0:j.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"state",placeholder:e.data.state},G("state")),{},{value:P.state,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Country",(0,h.jsx)("span",{className:"text-red-600",children:null===(v=J.country)||void 0===v?void 0:v.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"country",placeholder:e.data.country},G("country")),{},{value:P.country,onChange:K,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]})]})},g=function(e){var a,s,x,b,g=(0,r.useState)(!1),f=(0,t.Z)(g,2),j=f[0],v=f[1],N=(0,r.useState)(!1),y=(0,t.Z)(N,2),w=y[0],Z=y[1],S=((0,o.s0)(),(0,r.useState)({email:"",phoneNumber:"",name:"",password:""})),k=(0,t.Z)(S,2),C=k[0],E=k[1],I=(0,r.useState)(""),_=(0,t.Z)(I,2),P=(_[0],_[1]),A=(0,r.useState)(!0),R=(0,t.Z)(A,2),D=R[0],O=R[1],X=c.Ry().shape({email:c.Z_().email("Invalid email format"),name:c.Z_(),password:c.Z_()}),V=(0,i.cI)({resolver:(0,u.X)(X)}),q=V.register,z=V.handleSubmit,B=V.formState.errors;(0,r.useEffect)((function(){var e=Object.values(C).every((function(e){return""===e}));Z(e)}),[C]);var F=function(e){var a=e.target,s=a.name,t=a.value;E((0,l.Z)((0,l.Z)({},C),{},(0,n.Z)({},s,t)))};return(0,h.jsxs)("form",{onSubmit:z((function(){if(D){v(!0);var e=localStorage.getItem("token");C.token=e,console.log(C),d.Z.post("".concat(m.a,"/update"),C).then((function(e){e.data.token;console.log(e.data),console.log("saved1"),v(!1),O(!1),E({email:"",phoneNumber:"",name:"",password:""}),window.location.reload()})).catch((function(e){console.error("Error:",e),e.response&&e.response.data&&e.response.data.message?P(e.response.data.message):P("An error occurred. Please try again."),v(!1),O(!1)}))}})),className:"grid gap-5 w-[]  ",children:[(0,h.jsx)("button",{type:"submit",disabled:w||j,className:"h-[32px] w-[80px] bg-blue-500 flex items-center justify-center rounded-[0.6rem] font-bold text-white justify-self-end ".concat(w?"bg-[rgb(226,232,240)]":""),children:j?(0,h.jsx)("span",{className:"loading loading-spinner loading-sm bg-white"}):"save"}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Name",(0,h.jsx)("span",{className:"text-red-600",children:null===(a=B.name)||void 0===a?void 0:a.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",name:"name",placeholder:e.data.name},q("name")),{},{value:C.name,onChange:F,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Email ID",(0,h.jsx)("span",{className:"text-red-600",children:null===(s=B.email)||void 0===s?void 0:s.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"text",placeholder:e.data.email},q("email")),{},{value:C.email,onChange:F,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Password",(0,h.jsx)("span",{className:"text-red-600",children:null===(x=B.email)||void 0===x?void 0:x.message})]}),(0,h.jsx)("input",(0,l.Z)((0,l.Z)({type:"password",placeholder:"........."},q("password")),{},{value:C.password,onChange:F,className:"p-3 border h-11 max-w-96 w-full border-gray-400 rounded-md focus:outline-none focus:border-blue-500 bg-transparent"}))]}),(0,h.jsxs)("div",{className:"text-black grid justify-items-start",children:[(0,h.jsxs)("label",{children:["Phone Number",(0,h.jsx)("span",{className:"text-red-600",children:null===(b=B.phoneNumber)||void 0===b?void 0:b.message})]}),(0,h.jsx)(p(),{placeholder:e.data.phoneNumber,inputStyle:{height:"45px",width:"100%",border:"1px solid #ccc",borderRadius:"5px"},value:C.phoneNumber,onChange:function(e){return E((0,l.Z)((0,l.Z)({},C),{},{phoneNumber:e}))}})]})]})},f=s(9434),j=function(){var e=(0,f.v9)((function(e){return e.user.value})),a=(0,r.useState)(""),s=(0,t.Z)(a,2),n=s[0],l=s[1],d=(0,r.useState)(!1),o=(0,t.Z)(d,2),i=o[0];o[1];(0,r.useEffect)((function(){l(e.info.name)}),[]);var c=n.split(" "),u=c[0],m=c[c.length-1],x=u.charAt(0),p=m.charAt(0);return(0,h.jsx)("div",{className:"bg-white h-full w-full overflow-auto ",children:(0,h.jsx)("div",{className:"flex",children:(0,h.jsxs)("div",{className:"p-[15px] grid gap-[6px] grow ",children:[(0,h.jsx)("div",{className:"p-[17px] w-[50%] max-md:w-[75%] h-[50px] bg-white rounded-[0.6rem] shadow-md flex items-center justify-between",children:(0,h.jsx)("h1",{className:"text-[1.6rem]",children:"Profile Details"})}),(0,h.jsxs)("div",{className:"bg-white rounded-[0.6rem] w-[75%] shadow-md grid max-md:w-[100%]",children:[(0,h.jsxs)("div",{className:"flex gap-6 items-center p-[17px] rounded-[0.6rem] bg-white shadow-md",children:[(0,h.jsx)("div",{className:"avatar placeholder flex items-center  ",children:(0,h.jsx)("div",{className:" text-neutral-content bg-[#525d83] rounded-full w-[9rem] max-sm:w-[5rem] ",children:(0,h.jsxs)("span",{className:"text-3xl",children:[x,p]})})}),i?(0,h.jsx)("span",{className:"loading loading-dots loading-lg bg-[#2f458d]"}):(0,h.jsxs)("div",{className:"grid gap-2 items-center justify-start",children:[(0,h.jsx)("h1",{className:" max-sm:text-[0.8rem]",children:e.info.email}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{className:"border border-blue-600 text-blue-600 rounded-[0.3rem] p-1 ",children:"Edit"})," ",(0,h.jsx)("button",{className:"border border-blue-600 text-blue-600 rounded-[0.3rem] p-1",children:"View Agreement"})]})]})]}),(0,h.jsx)("div",{className:e.isCompany?"p-[17px]":"hidden",children:(0,h.jsx)(b,{data:e.info})}),(0,h.jsx)("div",{className:e.isCompany?"hidden":"p-[17px]",children:(0,h.jsx)(g,{data:e.info})})]})]})})})}},9158:function(e,a,s){s.d(a,{a:function(){return t}});var t="http://localhost:8080"}}]);
//# sourceMappingURL=860.42a6faed.chunk.js.map